Base de datos CEDEARs:

Recojo los datos de: nombre, símbolo, último precio, variación, apertura, mínimo, máximo, monto operado, fecha/hora.

Mi primary key puede ser el simbolo (pref) o el nombre. Por otra parte, tengo que representar una matriz bidimensional.
Otra opción sería representar la base de datos como un conjunto de tablas donde cada tabla representa a una empresa. En ese caso, el ID sería la fecha o asociado a ella.

Como sólo puedo obtener esos datos que no son en tiempo real, me conviene correrlo una vez al día en días hábiles y fuera del horario de trabajo.
 
Nota: si la fecha la tengo como primary key en todas las tablas de las empresas, si por alguna de esas casualidades la llego a modificar. 


Mepa que tengo un problema que es que estoy usando como foreign key una que no es la primary key en la otra tabla de la db. -> ERA ESO

Ver si se puede eliminar el id de la tabla date_ids y tener la fecha como primary key.

# company_query = """
        #         CREATE TABLE IF NOT EXISTS
        #         """ + key + """(
        #             DATE_ID INT,
        #             OPENING NUMERIC(8,2),
        #             CLOSING NUMERIC(8,2),
        #             MIN_PRICE NUMERIC(8,2),
        #             MAX_PRICE NUMERIC(8,2),
        #             AMOUNT_EXCHANGED NUMERIC(11,0),
        #             DAILY_VARIATION NUMERIC(4,2),
        #             FOREIGN KEY (DATE_ID) REFERENCES date_ids(ID)
        #         );
        #         """

(salida python vs pagina)

VZ: Está puesto una vez solo. Daily variation (0.24 vs 0.58), opening igual, min_price(4673 vs 4682), max_price (4736.5 vs 4735,00), amount_exchanged (8661691 vs
NOTA: Se me copian correctamente los datos de la tabla, que son coherentes pero no son del todo exactos.

Desde AAPL hasta MELIC inclusive, no se me copió ningún dato en la base.


company_query = """
                CREATE TABLE IF NOT EXISTS
                """ + key + """(
                    date_id INT NOT NULL AUTO_INCREMENT,
                    opening NUMERIC(8,2),
                    closing NUMERIC(8,2),
                    min_price NUMERIC(8,2),
                    max_price NUMERIC(8,2),
                    amount_exchanged NUMERIC(11,0),
                    daily_variation NUMERIC(4,2),
                    FOREIGN KEY (date_id) REFERENCES date_ids(id)
                );
                """

Datos Apple tabla IOL:
- OPENING: 2036
- CLOSING: 2042.5
- MIN_PRICE: 2013.5
- MAX_PRICE: 



Como fanática de la tecnología, busco desenvolverme en desarrollo de software e integrar mis conocimientos. También espero aprender del funcionamiento del mercado financiero. 
CV: https://drive.google.com/file/d/1IcQZ0v6-UDpr4sMPt3l-pNc4uY1av9cG/view



Para chequear que ya se escribió la lista de valores relacionada a esa fecha, busco el último record (siendo estrictos, tendría que buscar en la lista de fechas que podría estar espejada porque se supone que está actualizada cronológicamente) y comparo con la fecha que estoy analizando ahora.

Más desde lo técnico, tengo que hacer SELECT para la db date_ids e ir comparando con el campo date de la misma. Debería probar qué pasa con datos removidos en el medio, pero puede que sea problema de reescribir la base.


Tengo que agarrar los dos primeros elementos y hacer una base nueva porque pasaron cosas.




--- Volver a ver el diseño de la base de datos
--- Ver cómo exportar el contenido de la base de datos para ser graficada (vale la pena?) Se perdería la esencia del programa que es Web Scraping + Base de Datos.
--- Corregir lo del año 2020 porque es al pedo que ocupe ese espacio (verificar formato date en MySQL)

